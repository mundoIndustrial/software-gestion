// Ver fechas de creaciÃ³n
$user = App\Models\User::where('name', 'yus2')->first();

$allCotizaciones = App\Models\Cotizacion::where('user_id', $user->id)
    ->where('es_borrador', false)
    ->with('tipoCotizacion')
    ->orderBy('created_at', 'desc')
    ->get();

echo "ğŸ“… FECHAS DE CREACIÃ“N:\n\n";

$pb = $allCotizaciones->filter(fn($c) => $c->obtenerTipoCotizacion() === 'PB');

echo "Cotizaciones PB:\n";
foreach ($pb as $cot) {
    echo "- ID: {$cot->id} | CÃ³digo: {$cot->numero_cotizacion} | Fecha: {$cot->created_at}\n";
}

echo "\n\nÃšltimas 3 cotizaciones:\n";
foreach ($allCotizaciones->take(3) as $cot) {
    echo "- ID: {$cot->id} | Tipo: " . $cot->obtenerTipoCotizacion() . " | Fecha: {$cot->created_at}\n";
}

echo "\n\nPrimeras 3 cotizaciones:\n";
foreach ($allCotizaciones->slice(-3) as $cot) {
    echo "- ID: {$cot->id} | Tipo: " . $cot->obtenerTipoCotizacion() . " | Fecha: {$cot->created_at}\n";
}
