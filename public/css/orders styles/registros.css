/* ===== VARIABLES CSS ===== */
:root {
  --primary: #f97316; --primary-hover: #ea580c; --secondary: #374151; --dark-bg: #1f2937;
  --surface-white: #ffffff; --surface-gray: #f8fafc; --border-light: #e5e7eb; --border-medium: #d1d5db;
  --text-primary: #1f2937; --text-secondary: #6b7280; --text-light: #9ca3af; --text-white: #ffffff;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05); --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); --transition-slow: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --radius: 8px; --radius-lg: 12px; --radius-xl: 16px;
}

/* ===== BASE ===== */
* { box-sizing: border-box; }
body:has(.table-container) { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; line-height: 1.6; color: var(--text-primary); background: var(--surface-gray); margin: 0; height: 100vh; overflow: hidden; }

/* ===== LAYOUT ===== */
.table-container { padding: 2rem 2rem 0 2rem; background: var(--surface-gray); min-height: calc(100vh - 2rem); }
.table-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem; }
.table-title { font-size: 2rem; font-weight: 700; color: var(--text-primary); display: flex; align-items: center; gap: 0.75rem; margin: 0; }
.table-title i { color: var(--primary); font-size: 1.75rem; }
.search-container { flex: 0 1 500px; max-width: 100%; display: flex; gap: 1rem; align-items: center; }

/* ===== SEARCH ===== */
.search-input-wrapper { position: relative; display: flex; align-items: center; flex: 1; }
.search-icon { position: absolute; left: 1rem; color: var(--text-light); pointer-events: none; z-index: 2; }
.search-input { width: 100%; padding: 0.875rem 1rem 0.875rem 2.75rem; border: 2px solid var(--border-light); border-radius: var(--radius-lg); font-size: 0.875rem; background: var(--surface-white); color: var(--text-primary); transition: var(--transition); box-shadow: var(--shadow-sm); }
.search-input:focus { outline: none; border-color: var(--primary); box-shadow: var(--shadow-md), 0 0 0 3px rgb(249 115 22 / 0.1); }
.search-input::placeholder { color: var(--text-light); }

/* ===== TABLE ===== */
.modern-table-wrapper { background: var(--surface-white); border-radius: var(--radius-xl); box-shadow: var(--shadow-lg); overflow: hidden; border: 1px solid var(--border-light); }
.table-scroll-container { overflow: auto; max-height:600px; scrollbar-width: thin; scrollbar-color: var(--primary) var(--surface-gray); }
.table-scroll-container::-webkit-scrollbar { width: 8px; height: 8px; }
.table-scroll-container::-webkit-scrollbar-track { background: var(--surface-gray); border-radius: 4px; }
.table-scroll-container::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }
.table-scroll-container::-webkit-scrollbar-thumb:hover { background: var(--primary-hover); }
.modern-table { width: auto; min-width: 800px; border-collapse: separate; border-spacing: 0; font-size: 0.875rem; }

/* ===== HEADERS ===== */
.table-head { position: sticky; top: 0; z-index: 10; }
.table-header-cell { background: linear-gradient(135deg, var(--secondary) 0%, var(--dark-bg) 100%); color: var(--text-white); padding: 0; border-bottom: 2px solid var(--primary); position: relative; min-width: 150px; font-weight: 600; }
.header-content { display: flex; align-items: center; justify-content: space-between; padding: 0.5rem; gap: 0.5rem; min-height: 40px; }
.header-text { font-weight: 600; font-size: 0.875rem; flex: 1; text-transform: capitalize; color: var(--text-white); }
.filter-btn { background: rgba(255, 255, 255, 0.1); border: none; color: var(--text-white); padding: 0.375rem; border-radius: 6px; cursor: pointer; transition: var(--transition); display: flex; align-items: center; justify-content: center; width: 28px; height: 28px; flex-shrink: 0; }
.filter-btn:hover, .filter-btn.active { background: var(--primary); transform: scale(1.05); }
.filter-btn.active { box-shadow: 0 0 10px rgba(249, 115, 22, 0.3); }
.filter-btn i { font-size: 0.75rem; pointer-events: none; }

/* ===== ROWS & CELLS ===== */
.table-body { background: var(--surface-white); }
.table-row { transition: var(--transition); border-bottom: 1px solid var(--border-light); animation: slideIn 0.3s ease-out; }
.table-row:hover { background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%); transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.table-row:last-child { border-bottom: none; }
.table-cell { padding: 0; border-right: 1px solid var(--border-light); position: relative; min-width: 150px; max-width: 250px; vertical-align: top; }
.table-cell:last-child { border-right: none; }
.cell-content { padding: 0.5rem; cursor: pointer; height: 100%; display: flex; align-items: flex-start; min-height: 40px; transition: var(--transition); }
.cell-content:hover { background: rgba(249, 115, 22, 0.05); }
.cell-text { color: var(--text-primary); line-height: 1.2; word-break: break-word; display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; max-height: 2.4em; width: 100%; font-size: 0.8rem; }
.cell-content:hover .cell-text { color: var(--primary); }

/* ===== PAGINATION ===== */
.table-pagination { display: flex !important; justify-content: space-between; align-items: center; padding: 1.5rem 2rem 2rem 2rem; background: var(--surface-gray) !important; border-top: 1px solid var(--border-light); flex-wrap: wrap; gap: 1rem; position: relative !important; z-index: 10 !important; visibility: visible !important; opacity: 1 !important; }
.pagination-info { color: var(--text-secondary); font-size: 0.875rem; font-weight: 500; }
.pagination-controls { display: flex; align-items: center; gap: 0.5rem; }
.pagination-btn, .pagination-number { background: var(--surface-white); border: 1px solid var(--border-medium); color: var(--text-secondary); padding: 0.5rem; border-radius: var(--radius); cursor: pointer; transition: var(--transition); display: flex; align-items: center; justify-content: center; width: 36px; height: 36px; font-size: 0.875rem; font-weight: 500; }
.pagination-number { padding: 0.5rem 0.75rem; min-width: 36px; }
.pagination-btn:hover:not(:disabled), .pagination-number:hover, .pagination-number.active { background: var(--primary); color: var(--text-white); border-color: var(--primary); transform: translateY(-1px); }
.pagination-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.pagination-numbers { display: flex; gap: 0.25rem; }
.pagination-ellipsis { display: flex; align-items: center; justify-content: center; min-width: 36px; height: 36px; color: var(--text-light); font-weight: 500; }

/* ===== MODALS ===== */
.modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); z-index: 1000; opacity: 0; visibility: hidden; transition: var(--transition); }
.modal-overlay.active { opacity: 1; visibility: visible; }
.filter-modal, .cell-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); z-index: 1001; opacity: 0; visibility: hidden; transition: var(--transition-slow); }
.filter-modal.active, .cell-modal.active { transform: translate(-50%, -50%) scale(1); opacity: 1; visibility: visible; }
.modal-content, .cell-modal-content { background: var(--surface-white); border-radius: var(--radius-xl); box-shadow: var(--shadow-xl); width: 90vw; max-width: 500px; max-height: 80vh; overflow: hidden; display: flex; flex-direction: column; animation: fadeIn 0.3s ease-out; }
.cell-modal-content { max-width: 600px; }
.modal-header, .cell-modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1.5rem 2rem; border-bottom: 1px solid var(--border-light); background: linear-gradient(135deg, var(--surface-gray) 0%, var(--surface-white) 100%); }
.modal-title, .cell-modal-title { font-size: 1.25rem; font-weight: 600; color: var(--text-primary); margin: 0; }
.modal-close { background: none; border: none; color: var(--text-light); cursor: pointer; padding: 0.5rem; border-radius: var(--radius); transition: var(--transition); display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; }
.modal-close:hover { background: var(--border-light); color: var(--text-primary); }
.modal-close i { font-size: 1rem; }
.modal-body, .cell-modal-body { padding: 2rem; overflow-y: auto; flex: 1; }
.modal-search { margin-bottom: 1.5rem; }
.modal-search .search-input { padding-left: 2.5rem; }

/* ===== FILTER OPTIONS ===== */
.filter-options { display: flex; flex-direction: column; gap: 1rem; }
.filter-actions { display: flex; gap: 0.75rem; flex-wrap: wrap; }
.action-btn { padding: 0.5rem 1rem; border: 1px solid var(--border-medium); background: var(--surface-white); color: var(--text-secondary); border-radius: var(--radius); cursor: pointer; transition: var(--transition); font-size: 0.875rem; display: flex; align-items: center; gap: 0.5rem; font-weight: 500; }
.action-btn:hover { background: var(--surface-gray); transform: translateY(-1px); }
.action-btn i { font-size: 0.75rem; }
.select-all:hover { background: #dcfce7; border-color: #16a34a; color: #16a34a; }
.deselect-all:hover { background: #fef2f2; border-color: #dc2626; color: #dc2626; }
.filter-list { max-height: 250px; overflow-y: auto; border: 1px solid var(--border-light); border-radius: var(--radius); scrollbar-width: thin; scrollbar-color: var(--primary) var(--surface-gray); }
.filter-list::-webkit-scrollbar { width: 6px; }
.filter-list::-webkit-scrollbar-track { background: var(--surface-gray); }
.filter-list::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 3px; }
.filter-item { display: flex; align-items: center; padding: 0.75rem 1rem; border-bottom: 1px solid var(--border-light); cursor: pointer; transition: var(--transition); }
.filter-item:last-child { border-bottom: none; }
.filter-item:hover { background: var(--surface-gray); }
.filter-item input[type="checkbox"] { margin-right: 0.75rem; width: 16px; height: 16px; accent-color: var(--primary); cursor: pointer; }
.filter-item label { flex: 1; cursor: pointer; color: var(--text-primary); font-size: 0.875rem; line-height: 1.4; word-break: break-word; }

/* ===== BUTTONS ===== */
.modal-footer { display: flex; justify-content: flex-end; gap: 1rem; padding: 1.5rem 2rem; border-top: 1px solid var(--border-light); background: var(--surface-gray); }
.btn { padding: 0.75rem 1.5rem; border-radius: var(--radius); font-weight: 500; cursor: pointer; transition: var(--transition); border: none; font-size: 0.875rem; display: inline-flex; align-items: center; justify-content: center; }
.btn-secondary { background: var(--surface-white); color: var(--text-secondary); border: 1px solid var(--border-medium); }
.btn-secondary:hover { background: var(--surface-gray); transform: translateY(-1px); }
.btn-primary { background: var(--primary); color: var(--text-white); }
.btn-primary:hover { background: var(--primary-hover); transform: translateY(-1px); }
.cell-full-content { color: var(--text-primary); line-height: 1.6; font-size: 0.875rem; white-space: pre-wrap; word-break: break-word; background: var(--surface-gray); padding: 1.5rem; border-radius: var(--radius); border: 1px solid var(--border-light); }

/* ===== UTILITIES ===== */
.text-center { text-align: center; }
.py-8 { padding: 2rem 0; }
.text-gray-500 { color: var(--text-light); }
.text-gray-500 i { color: var(--text-light); margin-bottom: 0.5rem; }
.text-gray-500 p { margin: 0; font-size: 1rem; font-weight: 500; }
.mb-2 { margin-bottom: 0.5rem; }
.block { display: block; }
.text-3xl { font-size: 1.875rem; }

/* ===== ANIMATIONS ===== */
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideIn { from { transform: translateX(-20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .table-container { padding: 1rem; }
  .table-header { flex-direction: column; align-items: stretch; gap: 1rem; }
  .table-title { font-size: 1.5rem; justify-content: center; }
  .search-container { flex: 1; flex-direction: column; }
  .table-header-cell, .table-cell { min-width: 120px; max-width: 200px; }
  .header-content { padding: 0.75rem; font-size: 0.8rem; }
  .header-text { font-size: 0.8rem; }
  .cell-content { padding: 0.75rem; min-height: 70px; }
  .cell-text { font-size: 0.8rem; }
  .table-pagination { flex-direction: column; gap: 1rem; padding: 1rem; }
  .pagination-controls { flex-wrap: wrap; justify-content: center; }
  .modal-content, .cell-modal-content { width: 95vw; max-height: 90vh; }
  .modal-header, .cell-modal-header, .modal-body, .cell-modal-body, .modal-footer { padding: 1rem; }
  .filter-actions { flex-direction: column; }
  .action-btn { justify-content: center; }
  .modal-footer { flex-direction: column-reverse; }
  .btn { width: 100%; }
}

@media (max-width: 480px) {
  .table-header-cell, .table-cell { min-width: 100px; max-width: 150px; }
  .header-content { padding: 0.5rem; font-size: 0.75rem; }
  .header-text { font-size: 0.75rem; }
  .filter-btn { width: 24px; height: 24px; padding: 0.25rem; }
  .filter-btn i { font-size: 0.65rem; }
  .cell-content { padding: 0.5rem; min-height: 60px; }
  .cell-text { font-size: 0.75rem; }
  .table-title { font-size: 1.25rem; }
  .table-title i { font-size: 1.25rem; }
  .search-input { font-size: 0.8rem; padding: 0.75rem 0.75rem 0.75rem 2.5rem; }
  .pagination-btn, .pagination-number { min-width: 32px; height: 32px; font-size: 0.8rem; }
}

/* ===== DARK MODE ===== */
body.dark-theme {
  --surface-white: #1f2937;
  --surface-gray: #111827;
  --border-light: #374151;
  --border-medium: #4b5563;
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --text-light: #9ca3af;
}

body.dark-theme .cell-content:hover {
  background: rgba(249, 115, 22, 0.1);
}

body.dark-theme .table-row:hover {
  background: linear-gradient(135deg, #2d3748 0%, #374151 100%);
}

